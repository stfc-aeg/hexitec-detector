<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Hexitec Server</title>

    <script src="js/jquery-2.2.3.min.js"></script>

    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/odin_server.js"></script>
    <link href="css/odin-server.css" rel="stylesheet">

    <!-- Bootstrap -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"> -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-switch.min.css" rel="stylesheet">   <!-- Comment out & load JSON will change checkboxes as they should -->
    <link href="js/bootstrap-slider-10.2.1/css/bootstrap-slider.css" rel="stylesheet">
    <!-- <link href="js/bootstrap-slider-10.2.1/css/bootstrap-slider.min.css" rel="stylesheet"> -->

    <!-- Turn radiobuttons into switches?-->
    <script src="js/bootstrap-switch/highlight.js"></script>
    <script src="js/bootstrap-switch/bootstrap-switch.js"></script>

  </head>
  <body>
    
    <!-- <div class="container">

      <div class="odin-server">
      </div>

    </div> -->

    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">ODIN</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    
    <table class="overall-table" align="center">
      <thead></thead>
      <tbody>
        <tr>
          <td>
            Test Area.. R3 A progress bar:
          </td>
          <td>
            <div id="progress-bar" class="all-rounded">
              <div id="progress-bar-percentage" class="all-rounded" style="width: 38%"><span>68/100</span></div>
            </div>
          </td>
        </tr>

        <tr>
          <input type="button" class="btn btn-primary" id='storeButton' name="store_enable" data-size="small" value="store">
          <input type="button" class="btn btn-primary" id='testButton' name="store_enable" data-size="small" value="test_stuff">
          Adding Apply button:&nbsp;
          <input type="button" class="btn btn-primary" id='applyButton' name="store_enable" data-size="small" value="apply">
          <-- These three buttons configure Odin data
        </tr>
      </tbody>
    </table>
<!-- ---->

    <div class="well sidebar-nav-fixed">
      <table class="overall-table" align="center">
        <thead></thead>
        <tbody>

          <tr> 
            <td>
              <th>hdf/write&nbsp;</th>
            </td>
            <td>&nbsp;</td>
            <td>
              <div class="row sidebar-row vertical-align">
                <div class="col-xs-7">
                  <input type="checkbox" id='hdfWriteButton' name="hdf_write_enable" data-size="small">
                </div>
              </div>
            </td>
            <td>
              &nbsp;<span id="hdf-write-enable-warning">&nbsp;</span>
            </td>
          </tr>

          <tr>  
            <td>  
              FR Config File:&nbsp;
            </td>
            <td>
              <div class="text-rows">
                <input type="text" id="fr-config-text" onChange='fr_config_changed()' placeholder="fr_config.json" value="/u/ckd27546/develop/projects/odin-demo/hexitec-detector/data/config/fr_hexitec_config.json">
              </div>
            </td>
            <td>
              &nbsp;<td><span id="fr-config-warning">&nbsp;</span></td>
            </td>
          </tr>
          <tr>
            <td>
              FP Config File:&nbsp;
            </td>
            <td>
              <div class="text-columns">
                <input type="text" id="fp-config-text" onChange='fp_config_changed()' placeholder="fp_config.json" value= "/u/ckd27546/develop/projects/odin-demo/hexitec-detector/data/config/fp_hexitec_minimum_config.json">
              </div>
            </td>
            <td>
              &nbsp;<td><span id="fp-config-warning">&nbsp;</span></td>
            </td>
          </tr>
          <tr>
            <td>
              hdf/file/path:&nbsp;
            </td>
            <td>
              <div class="text-columns">
                <input type="text" id="hdf-file-path-text" onChange='hdf_file_path_changed()' value= "">
              </div>
            </td>
            <td>
              &nbsp;<td><span id="hdf-file-path-warning">&nbsp;</span></td>
            </td>
          </tr>
          <tr>
            <td>
              hdf/file/name:&nbsp;
            </td>
            <td>
              <div class="text-columns">
                <input type="text" id="hdf-file-name-text" onChange='hdf_file_name_changed()' value= "">
              </div>
            </td>
            <td>
              &nbsp;<td><span id="hdf-file-name-warning">&nbsp;</span></td>
            </td>
          </tr>

          </tbody>
      </table>

    </div> <!-- well sidebar-nav-fixed -->

<!-- ---->
    <div class="well sidebar-nav-fixed">
      <table class="overall-table" align="center">
        <thead></thead>
        <tbody>

          <tr>
            <td>
              Sensors Layout:&nbsp;
            </td>
            <td>
              <select onchange="selectChange(this.value)">
                <option value="1x1">1x1 (80x80)</option>
                <option selected="selected" value="2x2">2x2 (160x160)</option>
                <!-- <option value="NxM">NxM (AAAxBBB)</option> -->
              </select>
            </td>
            <td>
              &nbsp;<td><span id="sensors-layout-warning">&nbsp;</span></td>
            </td>
          </tr>
          <tr>
            <th>Camera&nbsp;</th>
          </tr>
          <tr>
            <td>
              Frames&nbsp;
            </td>
            <td>
              <div class="text-frames">
                <input type="text" id="frames-text" onChange='frames_changed()' maxlength="40" size="7" value= "10">
              </div>
            </td>
            <td>
              &nbsp;<td><span id="frames-warning">&nbsp;</span></td>
            </td>
          </tr>
          <tr>
            <td>
              Dark Correction&nbsp;
            </td>
            <td>
              <div class="row sidebar-row vertical-align">
                <div class="col-xs-7">
                  <input type="checkbox" id='darkCorrectionButton' name="dark_correction_enable" data-size="small">
                </div>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              Vcal:&nbsp;
            </td>
            <td>
              <select onchange="vcalChange(this.value)">
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option selected="selected" value="3">3</option>
              </select>
            </td>
            <td>
              &nbsp;<td><span id="vcal-warning">&nbsp;</span></td>
            </td>
          </tr>

          <tr>
            <td>
              
            </td>
            <td>
              <input type="button" class="btn btn-primary" id='connectButton' name="dc_connect" data-size="small" value="Connect">
              <input type="button" class="btn btn-primary" id='initialiseButton' name="dc_initialise" data-size="small" value="Initialise">
              <input type="button" class="btn btn-primary" id='acquireButton' name="dc_acquire" data-size="small" value="Acquire">
              <input type="button" class="btn btn-primary" id='disconnectButton' name="dc_disconnect" data-size="small" value="Disconnect">

            </td>
          </tr>
          <tr>
            <td>
            </td>
            <td>
              <input type="button" class="btn btn-primary" id='coButton' name="dc_dark_correction" data-size="small" value="Collect Offsets">
            </td>
          </tr>

          <tr>
            <td>
              Progress:&nbsp;
            </td>
            <td>
              <progress id="progress-odin" style="width: 100%" value="0" max="100"> </progress>
            </td>
          <tr>

          <tr>
            <td>
              Messages:&nbsp;
            </td>
            &nbsp;<td><span id="odin-control-message">&nbsp;</span></td>
          <tr>

          </tr>
            <td>
              Errors:&nbsp;
            </td>
            &nbsp;<td><span id="odin-control-error">&nbsp;</span></td>
            <td>
            </td>
          </tr>

          </tbody>
      </table>

    </div> <!-- well sidebar-nav-fixed -->

<!-- ---->
    <div class="well sidebar-nav-fixed">
      <table class="overall-table" align="center">
        <thead></thead>
        <tbody>

          <tr>  
            <td>  
              <th>Reorder&nbsp;</th>
            </td>
            <td>&nbsp;</td>
            <td>

            </td>
          </tr>

          <tr>  
            <td>  
              <th>Raw Data&nbsp;</th>
            </td>
            <td>&nbsp;</td>
            <td>
              <div class="row sidebar-row vertical-align">
                <div class="col-xs-7">
                  <input type="checkbox" id='rawDataButton' name="raw_data_enable" data-size="small">

                </div>
              </div>
            </td>
          </tr>

          <tr>  
            <td>
              <th>Threshold&nbsp;</th>
            </td>
            <td>&nbsp;</td>
            <td>
              <div class="row sidebar-row vertical-align">
                <div class="col-xs-7">
                  <input type="checkbox" name="threshold_enable" data-size="small" style="visibility:hidden">
                </div>
              </div>
            </td>
          </tr>

          <tr>  
            <td>  
              Filename:&nbsp;
            </td>
            <td>
              <div class="text-characters">
                <input type="text" id="threshold-filename-text" onChange='threshold_filename_changed()' value="/u/ckd27546/develop/projects/odin-demo/hexitec-detector/data/frameProcessor/thresh_2018_01_001_400V_20C.txt">
              </div>
            </td>
          </tr>
          <td>
          </td>
          <td>
          </td>
          <td>
            &nbsp;<span id="threshold-filename-warning">&nbsp;</span>
          </td>

          <tr>
            <td>  
              Value:&nbsp;
            </td>
            <td>  
              <div class="text-integer">
                <input type="text" id="threshold-value-text" onChange='threshold_value_changed()' value="100">
              </div>
            </td>
            <td>
              &nbsp;<span id="threshold-value-warning">&nbsp;</span>
            </td>
          </tr>
          <tr>
            <td>
              Mode:&nbsp;
            </td>
            <td>
              <div class="text-characters">
                <input type="text" id="threshold-mode-text" onchange='threshold_mode_changed()' value="value" required/>
              </div>
            </td>
            <td></td> <!-- Leave column blank-->
            <td>
              &nbsp;<span id="threshold-mode-warning">&nbsp;</span>
            </td>
          </tr>
  
          <tr>  
            <td>  
              <th>Next Frame&nbsp;</th>
            </td>
            <td>&nbsp;</td>
            <td>
              <div class="row sidebar-row vertical-align">
                <div class="col-xs-7">
                  <input type="checkbox" name="next_frame_enable" data-size="small">
                </div>
              </div>
            </td>
          </tr>

          <tr>
            <td>  
              <th>Calibration&nbsp;</th>
            </td>
            <td>&nbsp;</td>
            <td>
              <div class="row sidebar-row vertical-align">
                <div class="col-xs-7">
                  <input type="checkbox" name="calibration_enable" data-size="small">
                </div>
              </div>
            </td>
          </tr>

          <tr>
            <td>  
              Gradients:&nbsp;
            </td>
            <td>
              <div class="text-characters">
                <input type="text" id="gradients-filename-text" onChange='gradients_filename_changed()' value="/u/ckd27546/develop/projects/odin-demo/hexitec-detector/data/frameProcessor/m_2018_01_001_400V_20C.txt">
              </div>
            </td>
          </tr>
          <td>
          </td>
          <td>
            &nbsp;<td><span id="gradients-filename-warning"></span></td>
          </td>
          <tr>
            <td>  
              Intercepts:&nbsp;
            </td>
            <td>
              <div class="text-characters">
                <input type="text" id="intercepts-filename-text" onChange='intercepts_filename_changed()' value="/u/ckd27546/develop/projects/odin-demo/hexitec-detector/data/frameProcessor/c_2018_01_001_400V_20C.txt">
              </div>
            </td>
            <td>
            </td>
            <td>
              &nbsp;<td><span id="intercepts-filename-warning">&nbsp;</span></td>
            </td>
          </tr>

          <tr>
            <td>
              <th>CS: None / Add / Dis:&nbsp;</th>
            </td>
            <td></td>  <!-- Add empty cell or set of three radio buttons will upset Page layout -->
            <td>&nbsp;</td>
            <td>
                <input id="cbox1" name="GroupedSwitches" class="bootstrap-switch" type="radio" data-off-text="OFF" data-on-text="ON" checked="true" value="none">
                <input id="cbox2" name="GroupedSwitches" class="bootstrap-switch" type="radio" data-off-text="OFF" data-on-text="ON"  value="add">
                <input id="cbox3" name="GroupedSwitches" class="bootstrap-switch" type="radio" data-off-text="OFF" data-on-text="ON"  value="dis">
             </td>
          </tr>
          <tr>
            <td>
              Pixel Grid Size:&nbsp;
            </td>
            <td>
              <div class="text-columns">
                <input type="text" id="pixel-grid-size-text" onChange='pixel_grid_size_changed()' value="3">
              </div>
            </td>
            <td>
              &nbsp;<td><span id="pixel-grid-size-warning">&nbsp;</span></td>
            </td>
          </tr>

          <tr>  
            <td>  
              <th>Histogram&nbsp;</th>
            </td>
            <td>&nbsp;</td>
            <td>
              <div class="row sidebar-row vertical-align">
                <div class="col-xs-7">
                  <input type="checkbox" name="histogram_enable" data-size="small" style="visibility:hidden">
                </div>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              Bin Start:&nbsp;
            </td>
            <td>
              <div class="text-columns">
                <input type="text" id="bin-start-text" onChange='bin_start_changed()' value="0">
              </div>
            </td>
            <td>
              &nbsp;<td><span id="bin-start-warning">&nbsp;</span></td>
            </td>
          </tr>
          <tr>
            <td>
              Bin End:&nbsp;
            </td>
            <td>
              <div class="text-columns">
                <input type="text" id="bin-end-text" onChange='bin_end_changed()' value="8000">
              </div>
            </td>
            <td></td>
            <td>
              &nbsp;<td><span id="bin-end-warning">&nbsp;</span></td>
            </td>
          </tr>
          <tr>
            <td> 
              Bin Width:&nbsp;
            </td>
            <td> 
              <div class="text-columns">
                <input type="text" id="bin-width-text" onChange='bin_width_changed()' value="10">
              </div>
            </td>
            <td>
              &nbsp;<td><span id="bin-width-warning">&nbsp;</span></td>
            </td>
          </tr>

      </tbody>
    </table>

  </div> <!-- well sidebar-nav-fixed -->


<!-- Section nicked from LiveView UI.. -->
  <div class="container-fluid">
    <div class="row fluid-row">

      <div class="span3">
        <div class="well sidebar-nav-fixed">
          <div class="container-fluid">
            <div class="row sidebar-title">
              <h3>Live View Demo</h3>
            </div>
            <div class="row sidebar-row vertical-align">
              <div class="col-xs-5">
                <b>Auto&#8209;update:</b> 
              </div>
              <div class="col-xs-7">
                <input type="checkbox" name="liveview_enable" data-size="small">
              </div>
            </div>
            <div class="row sidebar-row vertical-align">
              <div class="col-xs-5">
                <b>Colour&nbsp;map:</b> 
              </div>
              <div class="col-xs-7">
                <select class="form-control" id="colormap_select">
                </select>
              </div>
            </div>
            <div class="row sidebar-row vertical-align">
              <div class="col-xs-5">
                <b>Clipping:</b> 
              </div>
              <div class="col-xs-7">
                <input type="checkbox" name="clip_enable" data-size="small":">
              </div>
            </div>
            <div class="row sidebar-row vertical-align row-bold">
              <div class="col-xs-3 text-left" id="clip_min">&nbsp;</div>
              <div class="col-xs-6 text-center">Range</div>
              <div class="col-xs-3 text-right" id="clip_max">&nbsp;</div>
            </div>
            <div class="row sidebar-row sidebar-row-full">
              <div class="col-xs12 range-col">
                <input id="clip_range"
                  type="text" value="" data-slider-id="clip-range" 
                  data-slider-min="0" data-slider-max="100" 
                  data-slider-step="1" data-slider-value="[0,100]"
                />
              </div>
            </div>
            <div class="row sidebar-row vertical-align">
              <div class="col-xs-5">
                <b>Auto&#8209;sizing:</b> 
              </div>
              <div class="col-xs-7">
                <input type="checkbox" name="autosize_enable" data-size="small":">
              </div>
            </div>
            <div class="row sidebar-row vertical-align row-bold">
              <div class="col-xs-3 text-left" id="clip_min">0%</div>
              <div class="col-xs-6 text-center">Size</div>
              <div class="col-xs-3 text-right" id="clip_max">100%</div>
            </div>
            <div class="row sidebar-row sidebar-row-full">
              <div class="col-xs12 range-col">
                <input id="size_range"
                  type="text" value="" data-slider-id="size-range" 
                  data-slider-min="0" data-slider-max="100" 
                  data-slider-step="1" data-slider-value="100"
                />
              </div>
            </div>
          </div> <!-- container-fluid --> 
        </div> <!-- well sidebar-nav-fixed -->
      </div> <!-- span3 -->

      <div class="span9 span-fixed-sidebar">
        <div id="liveview_container" class="odin-server live-image">
          <img id='liveview_image' src='/api/0.1/live_view/image' data-src='/api/0.1/live_view/image'>
        </div> <!-- odin-server -->
      </div> <!-- span9 -->

    </div> <!-- row fluid-row -->
  </div> <!-- container-fluid-->

  <!-- Pinched from live_view example.. -->
  <script src="js/bootstrap-3.3.6-dist/dist/js/bootstrap-switch.min.js"></script>
  <script src="js/bootstrap-slider-10.2.1/js/bootstrap-slider.min.js"></script>
  <script src='js/live_view.js'></script>
    
  </body>
</html>
